# ä¿®å¤ç¼ºå¤±çš„è¿è¡Œæ—¶ä¾èµ–

## ğŸš¨ é—®é¢˜åˆ†æ

### âœ… å¥½æ¶ˆæ¯

1. **Docker æ„å»ºæˆåŠŸ** âœ…
   - `check_build_image : succ`
   - `npm install` æˆåŠŸï¼š`added 1899 packages in 1m`ï¼ˆæ¯”ä¹‹å‰å¤šäº†å¾ˆå¤šï¼‰
   - é•œåƒå·²æ¨é€æˆåŠŸ

### âŒ é—®é¢˜

**è¿è¡Œæ—¶é”™è¯¯**ï¼š
```
Error [ERR_MODULE_NOT_FOUND]: Cannot find package '@trpc/server' imported from /app/dist/index.js
```

**ä¹‹å‰æ˜¯ `express`ï¼Œç°åœ¨æ˜¯ `@trpc/server`**ï¼Œè¯´æ˜ï¼š
- è™½ç„¶å®‰è£…äº†æ›´å¤šåŒ…ï¼Œä½†å…³é”®è¿è¡Œæ—¶ä¾èµ–ä»ç„¶ç¼ºå¤±
- `package.json` ä¸­ç¼ºå°‘å¤šä¸ªè¿è¡Œæ—¶ä¾èµ–

---

## ğŸ” æ ¹æœ¬åŸå› 

**`package.json` ä¸­ç¼ºå°‘ä»¥ä¸‹è¿è¡Œæ—¶ä¾èµ–**ï¼š

1. `express` - Express æ¡†æ¶
2. `@trpc/server` - tRPC æœåŠ¡å™¨
3. `drizzle-orm` - æ•°æ®åº“ ORM
4. `mysql2` - MySQL é©±åŠ¨
5. `cookie-parser` - Cookie è§£æ
6. `dotenv` - ç¯å¢ƒå˜é‡
7. `bcryptjs` - å¯†ç åŠ å¯†
8. `axios` - HTTP å®¢æˆ·ç«¯
9. `jose` - JWT å¤„ç†
10. å…¶ä»–è¿è¡Œæ—¶ä¾èµ–

**è¿™äº›åŒ…å¯èƒ½éƒ½åœ¨ `devDependencies` ä¸­ï¼Œæˆ–è€…æ ¹æœ¬ä¸åœ¨ `package.json` ä¸­ã€‚**

---

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šæ·»åŠ ç¼ºå¤±çš„ä¾èµ–åˆ° package.jsonï¼ˆæ¨èï¼‰

**éœ€è¦æ·»åŠ ä»¥ä¸‹ä¾èµ–åˆ° `dependencies`**ï¼š

```json
"dependencies": {
  "express": "^4.18.2",
  "@trpc/server": "^10.45.0",
  "drizzle-orm": "^0.29.0",
  "mysql2": "^3.6.0",
  "cookie-parser": "^1.4.6",
  "dotenv": "^16.3.1",
  "bcryptjs": "^2.4.3",
  "axios": "^1.6.0",
  "jose": "^5.2.0",
  // ... å…¶ä»–ç°æœ‰ä¾èµ–
}
```

---

### æ–¹æ¡ˆ2ï¼šæ£€æŸ¥ devDependenciesï¼ˆå¿«é€Ÿæ£€æŸ¥ï¼‰

**å¯èƒ½è¿™äº›åŒ…åœ¨ `devDependencies` ä¸­**ï¼Œéœ€è¦ç§»åŠ¨åˆ° `dependencies`ã€‚

---

## ğŸš€ ç«‹å³ä¿®å¤æ­¥éª¤

### æ­¥éª¤1ï¼šæ£€æŸ¥ package.json

**æŸ¥çœ‹ `devDependencies` ä¸­æ˜¯å¦æœ‰è¿™äº›åŒ…**ï¼š
- `express`
- `@trpc/server`
- `drizzle-orm`
- `mysql2`
- `cookie-parser`
- `dotenv`
- `bcryptjs`
- `axios`
- `jose`

---

### æ­¥éª¤2ï¼šæ·»åŠ ç¼ºå¤±çš„ä¾èµ–

**å¦‚æœä¸åœ¨ `dependencies` ä¸­ï¼Œéœ€è¦æ·»åŠ **ã€‚

---

## ğŸ“‹ éœ€è¦æ£€æŸ¥çš„åŒ…åˆ—è¡¨

**æ ¹æ®ä»£ç åˆ†æï¼Œä»¥ä¸‹åŒ…æ˜¯è¿è¡Œæ—¶å¿…éœ€çš„**ï¼š

1. âœ… `express` - å¿…éœ€
2. âœ… `@trpc/server` - å¿…éœ€
3. âœ… `drizzle-orm` - å¿…éœ€
4. âœ… `mysql2` - å¿…éœ€ï¼ˆdrizzle-orm éœ€è¦ï¼‰
5. âœ… `cookie-parser` - å¿…éœ€
6. âœ… `dotenv` - å¿…éœ€
7. âœ… `bcryptjs` - å¿…éœ€
8. âœ… `axios` - å¿…éœ€
9. âœ… `jose` - å¿…éœ€
10. âœ… `nanoid` - å¯èƒ½å¿…éœ€ï¼ˆvite.ts ä¸­ä½¿ç”¨ï¼‰

---

## âœ… ç°åœ¨è¯·

1. **æ£€æŸ¥ `package.json` çš„ `devDependencies`**
2. **å‘Šè¯‰æˆ‘å“ªäº›åŒ…åœ¨ `devDependencies` ä¸­**
3. **æˆ‘å¯ä»¥å¸®æ‚¨å°†å®ƒä»¬ç§»åŠ¨åˆ° `dependencies`**

**æˆ–è€…ï¼Œæˆ‘å¯ä»¥ç›´æ¥å¸®æ‚¨æ·»åŠ æ‰€æœ‰ç¼ºå¤±çš„ä¾èµ–åˆ° `dependencies`ã€‚**

---

## ğŸ’¡ æç¤º

- **è™½ç„¶å®‰è£…äº† 1899 ä¸ªåŒ…**ï¼Œä½†å¦‚æœå…³é”®åŒ…ä¸åœ¨ `dependencies` ä¸­ï¼Œå¯èƒ½ä»ç„¶æœ‰é—®é¢˜
- **æœ€å¥½çš„è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿æ‰€æœ‰è¿è¡Œæ—¶ä¾èµ–éƒ½åœ¨ `dependencies` ä¸­
- **å¿«é€Ÿä¿®å¤**ï¼šæˆ‘å¯ä»¥å¸®æ‚¨æ·»åŠ æ‰€æœ‰ç¼ºå¤±çš„ä¾èµ–
