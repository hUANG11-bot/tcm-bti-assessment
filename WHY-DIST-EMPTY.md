# 为什么 dist 文件夹里的东西都没了？

## 🔍 原因分析

在 `config/index.js` 配置文件中，第 47 行设置了：

```javascript
clean: true,
```

这个配置的作用是：**每次编译时，Taro 会自动清理 `dist` 目录，然后重新生成文件**。

---

## 📋 为什么会变空？

### 情况1：编译失败或中断

如果编译过程中：
- 编译失败
- 编译被中断（按了 Ctrl+C）
- 编译出错

那么 `dist` 目录会被清空，但没有新文件生成，导致目录为空。

### 情况2：手动删除了 dist 目录

如果手动删除了 `dist` 目录，它也会变空。

### 情况3：编译还没完成

如果编译正在进行中，`dist` 目录可能暂时为空，等待编译完成后会有文件。

---

## ✅ 解决方案

### 方案1：重新编译项目（推荐）

**在 PowerShell 中运行**（确保 Node.js 已安装）：

```powershell
cd d:\tcm-bti-assessment
pnpm dev:weapp
```

这会：
1. 清理 `dist` 目录（因为 `clean: true`）
2. 重新编译项目
3. 生成新的小程序文件到 `dist` 目录

### 方案2：禁用自动清理（不推荐）

如果您不想每次编译都清理 `dist` 目录，可以修改配置：

**编辑 `config/index.js`**，将第 47 行：

```javascript
clean: true,
```

改为：

```javascript
clean: false,
```

**注意**：禁用清理可能导致旧文件残留，建议保持 `clean: true`。

---

## 🎯 正常流程

### 1. 编译开始
- Taro 清理 `dist` 目录（因为 `clean: true`）
- `dist` 目录暂时为空

### 2. 编译进行中
- Taro 编译源代码
- 生成小程序文件

### 3. 编译完成
- `dist` 目录包含所有必需文件：
  - `app.json` ✅
  - `app.js` ✅
  - `pages/` 目录 ✅
  - 其他小程序文件 ✅

---

## ⚠️ 常见问题

### Q1: 为什么编译后 dist 还是空的？

**可能原因：**
- 编译失败（查看错误信息）
- 编译被中断
- Node.js 未安装或未配置

**解决：**
- 检查编译错误信息
- 确保 Node.js 已正确安装
- 重新运行编译命令

### Q2: 可以保留 dist 目录的内容吗？

**可以，但不推荐：**
- 修改 `config/index.js`，设置 `clean: false`
- 但可能导致旧文件残留，建议保持 `clean: true`

### Q3: 编译很慢，dist 一直为空

**这是正常的：**
- 首次编译会较慢
- 编译过程中 `dist` 可能暂时为空
- 等待编译完成即可

---

## 📝 推荐操作

1. **保持 `clean: true`**：确保每次编译都是干净的状态
2. **编译前检查**：确保 Node.js 已安装，依赖已安装
3. **等待编译完成**：不要中断编译过程
4. **检查编译结果**：编译完成后检查 `dist` 目录是否有文件

---

## 🚀 立即操作

如果 `dist` 目录现在是空的，请运行：

```powershell
cd d:\tcm-bti-assessment
pnpm dev:weapp
```

等待编译完成，`dist` 目录就会重新生成文件了！

---

**总结：`dist` 目录变空是正常的，因为配置了自动清理。重新编译项目即可恢复文件。**
